// Shared front-end i18n for static pages
window.I18N = {
  th: {
    "header.title":"Backpack Hostel Kohyaoyai",
    "header.subtitle":"ที่พักสำหรับสายแบ็คแพ็ค ใจกลางเกาะยาวใหญ่",
    "nav.home":"หน้าแรก",
    "nav.booking":"จองที่พัก",
    "nav.about":"เกี่ยวกับเกาะยาวใหญ่",
    "nav.reviews":"ผู้เข้าพักรีวิว",
    "nav.gallery":"แกลเลอรี",
  "gallery.title":"แกลเลอรี — Backpack Hostel Kohyaoyai",
  "gallery.inside":"ภายในโฮสเทล",
  "gallery.dorm":"ห้องพักรวม",
  "gallery.bungalow":"บังกะโล",
    "nav.ferry":"ตารางเดินเรือ",
    "nav.contact":"ติดต่อเรา",
    "hero.title":"ยินดีต้อนรับสู่ Backpack Hostel Kohyaoyai",
    "hero.lead":"พักสบาย ใกล้ท่าเรือ และที่เที่ยวสำคัญของเกาะยาวใหญ่",
    "form.checkin":"เช็คอิน",
    "form.checkout":"เช็คเอาท์",
    "form.guests":"จำนวนผู้เข้าพัก",
  "form.rooms":"จำนวนห้อง",
    "form.search":"ค้นหา",
    "rooms.title":"ประเภทห้องพัก",
    "rooms.lead":"เลือกห้องที่เหมาะกับสไตล์การเดินทางของคุณ",
    "rooms.dorm.name":"หอพักรวม",
    "rooms.dorm.desc":"เตียงแยก ใกล้พื้นที่ส่วนกลาง",
    "rooms.private.name":"ห้องส่วนตัว",
    "rooms.private.desc":"ห้องสะอาด เงียบ สวีทสำหรับสองคน",
    "rooms.family.name":"ห้องสำหรับครอบครัว",
    "rooms.family.desc":"กว้างสำหรับครอบครัว/กลุ่มเพื่อน",
    "rooms.book":"จองเลย",
  "rooms.night":"1 คืน",
  "reviews.sample":"\"บริการดี ใกล้ท่าเรือ\" — สมชาย",
  "rooms.dorm.promo":"ฟรี เครดิตรีสอร์ท THB 1,000 ต่อคืน",
  "rooms.dorm.promoDesc":"ไม่คืนเงิน \u003cbr\/\u003eรวมสิทธิพิเศษ: อาหารเช้าทุกวัน, เครดิตรีสอร์ท THB 1,000 ต่อคืน",
  "rooms.dorm.choose":"เลือกหอพักรวม",
  "rooms.rateLabel":"อัตรา (THB)",
  "rooms.select":"เลือก",
  "rooms.private.offer":"รวมอาหารเช้า",
  "rooms.private.desc":"ห้องสะอาด เงียบ เหมาะสำหรับคู่รัก",
  "rooms.private.choose":"เลือกห้องส่วนตัว",
  "rooms.family.offer":"แพ็กเกจสำหรับครอบครัว",
  "rooms.family.extraDesc":"ห้องกว้างพร้อมเตียงเสริมตามคำขอ",
  "rooms.family.choose":"เลือกห้องสำหรับครอบครัว",
    "promo.title":"โปรโมชั่น",
    "promo.off1.title":"พัก 3 คืน แถม 1 คืน",
    "promo.off1.desc":"เฉพาะช่วงนอกฤดูกาล จองล่วงหน้า 14 วัน",
    "promo.off2.title":"ส่วนลดสำหรับกลุ่ม",
    "promo.off2.desc":"ลดสูงสุด 20% สำหรับ 5 คนขึ้นไป",
    "ferry.title":"ตารางเดินเรือ",
  "ferry.from":"จาก",
  "ferry.to":"ถึง",
  "ferry.time":"เวลา",
  "ferry.depart":"เวลาออก",
  "ferry.arrival":"เวลาถึง",
  "ferry.route.fromPhuket":"ภูเก็ต-ท่าเรือบางโรง → เกาะยาวใหญ่-ท่าเรือช่องหลาด",
  "ferry.route.fromKohYaoYai":"เกาะยาวใหญ่-ท่าเรือช่องหลาด → ภูเก็ต-ท่าเรือบางโรง",
    "ferry.note":"หมายเหตุ",
    "reviews.title":"ผู้เข้าพพักรีวิว",
    "contact.title":"ติดต่อเรา",
  "footer.contact":"ติดต่อเรา",
  "footer.quick":"ลิงค์ด่วน",
  "footer.emailLabel":"อีเมล:",
  "footer.phoneLabel":"โทร:",
  "footer.mapLabel":"แผนที่:"
    ,
    // booking page translations
    "booking.title":"จองที่พัก",
    "booking.lead":"กรุณากรอกรายละเอียดการจองของคุณ",
    "booking.checkin":"เช็คอิน",
    "booking.nights":"จำนวนคืน (1-15)",
    "booking.guests":"จำนวนผู้เข้าพัก",
    "booking.guestName":"ชื่อ-สกุล (ผู้เข้าพัก)",
    "booking.guestName.placeholder":"สมชาย ใจดี",
    "booking.sameAsGuest":"ผู้จองเป็นผู้เข้าพักคนเดียวกัน",
    "booking.bookerName":"ชื่อ-สกุล (ผู้จอง)",
    "booking.bookerName.placeholder":"ถ้าไม่ใช่ผู้เข้าพัก",
    "booking.notes":"หมายเหตุเพิ่มเติม",
    "booking.notes.placeholder":"เช่น เวลาเช็คอินประมาณ ...",
    "booking.save":"บันทึกและไปชำระเงิน"
  },
  en: {
    "header.title":"Backpack Hostel Kohyaoyai",
    "header.subtitle":"Hostel for backpackers in central Koh Yao Yai",
    "nav.home":"Home",
    "nav.booking":"Book",
    "nav.about":"About Koh Yao Yai",
    "nav.reviews":"Guest Reviews",
    "nav.gallery":"Gallery",
  "gallery.title":"Gallery — Backpack Hostel Kohyaoyai",
  "gallery.inside":"Inside the Hostel",
  "gallery.dorm":"Dormitory",
  "gallery.bungalow":"Bungalows",
    "nav.ferry":"Ferry Schedule",
    "nav.contact":"Contact",
    "hero.title":"Welcome to Backpack Hostel kohyaoyai",
    "hero.lead":"Comfortable stay near the piers and island attractions",
    "form.checkin":"Check-in",
    "form.checkout":"Check-out",
    "form.guests":"Guests",
  "form.rooms":"Rooms",
    "form.search":"Search",
    "rooms.title":"Room Types",
    "rooms.lead":"Pick the room that fits your travel style",
    "rooms.dorm.name":"Dormitory",
    "rooms.dorm.desc":"Bunk beds near common areas",
    "rooms.private.name":"Private Room",
    "rooms.private.desc":"Clean quiet room for two",
    "rooms.family.name":"Family Room",
    "rooms.family.desc":"Spacious for family/groups",
    "rooms.book":"Book Now",
  "rooms.night":"1 Night",
  "reviews.sample":"\"Great service, close to the pier\" — Somchai",
  "rooms.dorm.promo":"FREE THB 1,000 Net Resort Credit per night",
  "rooms.dorm.promoDesc":"Non-refundable available\nPrivileges Included: Daily breakfast, THB 1,000 resort credit per night",
  "rooms.dorm.choose":"Choose Dormitory",
  "rooms.rateLabel":"Rate (THB)",
  "rooms.select":"Select",
  "rooms.private.offer":"Breakfast included",
  "rooms.private.desc":"Comfortable private room suitable for couples",
  "rooms.private.choose":"Choose Private Room",
  "rooms.family.offer":"Family friendly package",
  "rooms.family.extraDesc":"Spacious rooms with extra beds available",
  "rooms.family.choose":"Choose Family Room",
    "promo.title":"Promotions",
    "promo.off1.title":"Stay 3 nights, get 1 free",
    "promo.off1.desc":"Off-season only. Book at least 14 days in advance",
    "promo.off2.title":"Group Discount",
    "promo.off2.desc":"Up to 20% off for parties of 5+",
    "ferry.title":"Ferry Schedule",
  "ferry.from":"From",
  "ferry.to":"To",
  "ferry.time":"Time",
  "ferry.depart":"Departure",
  "ferry.arrival":"Arrival",
  "ferry.route.fromPhuket":"Phuket (Bang Rong Pier) → Koh Yao Yai (Chong Lard Pier)",
  "ferry.route.fromKohYaoYai":"Koh Yao Yai (Chong Lard Pier) → Phuket (Bang Rong Pier)",
    "ferry.note":"Notes",
    "reviews.title":"Guest Reviews",
    "contact.title":"Contact Us",
  "footer.contact":"Contact",
  "footer.quick":"Quick Links",
  "footer.emailLabel":"Email:",
  "footer.phoneLabel":"Phone:",
  "footer.mapLabel":"Map:"
    ,
    // booking page translations
    "booking.title":"Booking",
    "booking.lead":"Please fill in your booking details",
    "booking.checkin":"Check-in",
    "booking.nights":"Nights (1-15)",
    "booking.guests":"Guests",
    "booking.guestName":"Guest name",
    "booking.guestName.placeholder":"Somchai Jaidee",
    "booking.sameAsGuest":"Booker is the same as guest",
    "booking.bookerName":"Booker name",
    "booking.bookerName.placeholder":"If not the guest",
    "booking.notes":"Notes",
    "booking.notes.placeholder":"e.g. approximate check-in time...",
    "booking.save":"Save & Pay"
  }
};

// Additional checkout-specific translations
(function(){
  window.I18N.th['checkout.guestInfo'] = 'ข้อมูลผู้เข้าพัก';
  window.I18N.th['checkout.summaryTitle'] = 'สรุปการจองของคุณ';
  window.I18N.th['checkout.changeDates'] = 'เปลี่ยนวันที่';
  window.I18N.th['checkout.roomsRates'] = 'ห้องและอัตรา (ราคา 1 คืน)';
  // Newly added UI strings
  window.I18N.th['checkout.or'] = '- หรือ -';
  window.I18N.th['checkout.signInFast'] = 'เข้าสู่ระบบเพื่อจองได้เร็วขึ้น';
  window.I18N.th['checkout.countryCode'] = 'รหัสประเทศ';
  window.I18N.th['checkout.label.guestName'] = 'ชื่อผู้เข้าพัก';
    // removed: Special Requests toggle labels

  window.I18N.en['checkout.guestInfo'] = 'Guest Information';
  window.I18N.en['checkout.summaryTitle'] = 'Your booking summary';
  window.I18N.en['checkout.changeDates'] = 'Change Dates';
  window.I18N.en['checkout.roomsRates'] = 'Rooms & Rates ( Price for 1 Night )';
  // Newly added UI strings
  window.I18N.en['checkout.or'] = '- OR -';
  window.I18N.en['checkout.signInFast'] = 'Sign In To Book Faster';
  window.I18N.en['checkout.countryCode'] = 'Country Code';
  window.I18N.en['checkout.label.guestName'] = 'Guest Name';
    // removed: Special Requests toggle labels
})();

(function(){
  // UI buttons and labels used on Checkout
  const keys = [
    ['review.btn','Review Your Booking'],
    ['book.btn','Book Now'],
    ['price.roomCharges','Room Charges'],
    ['price.taxesFees','Taxes & Fees'],
    ['price.totalRoom','Total Room Charges'],
    ['price.totalTaxes','Total Taxes'],
    ['price.totalPrice','Total Price (Inc. Of Taxes)'],
    ['price.totalPayNow','Total Payable Now'],
    ['price.amountDue','Amount due at time of check-in'],
    ['price.breakdown','Price Breakdown / Rate Details'],
    ['pay.payNow','Pay Now'],
    ['promo.placeholder','Enter Promotional code']
  ];
  keys.forEach(([k,enLabel])=>{
    window.I18N.en['checkout.'+k]=enLabel;
  });
  // Thai equivalents
  const ths = {
    'checkout.review.btn':'ทบทวนการจอง',
    'checkout.book.btn':'จองตอนนี้',
    'checkout.price.roomCharges':'ค่าห้อง',
    'checkout.price.taxesFees':'ภาษีและค่าธรรมเนียม',
    'checkout.price.totalRoom':'รวมค่าห้อง',
    'checkout.price.totalTaxes':'รวมภาษี',
    'checkout.price.totalPrice':'ราคารวม (รวมภาษี)',
    'checkout.price.totalPayNow':'ยอดต้องชำระตอนนี้',
    'checkout.price.amountDue':'ยอดที่ต้องชำระเมื่อเช็คอิน',
    'checkout.price.breakdown':'รายละเอียดราคา / ข้อมูลอัตรา',
    'checkout.pay.payNow':'ชำระตอนนี้',
    'checkout.promo.placeholder':'กรอกโค้ดโปรโมชั่น'
  };
  Object.keys(ths).forEach(k=>{ window.I18N.th[k]=ths[k]; });
})();

(function(){
  // keys used in Checkout.html added from user-provided Thai strings
  const th = window.I18N.th;
  const en = window.I18N.en;
  th['checkout.phone.placeholder'] = 'หมายเลขโทรศัพท์';
  en['checkout.phone.placeholder'] = 'Phone number';

  // Guest info form fields
  th['checkout.label.firstName'] = 'ชื่อ';
  en['checkout.label.firstName'] = 'First Name';
  th['checkout.label.lastName'] = 'นามสกุล';
  en['checkout.label.lastName'] = 'Last Name';
  th['checkout.label.title'] = 'คำนำหน้า';
  en['checkout.label.title'] = 'Title';
  th['checkout.label.mobile'] = 'มือถือ';
  en['checkout.label.mobile'] = 'Mobile';
  th['checkout.label.email'] = 'อีเมล';
  en['checkout.label.email'] = 'Email';
    // removed: Special Requests label
  th['checkout.placeholder.firstName'] = 'ชื่อ';
  en['checkout.placeholder.firstName'] = 'First Name';
  th['checkout.placeholder.lastName'] = 'นามสกุล';
  en['checkout.placeholder.lastName'] = 'Last Name';
  th['checkout.placeholder.mobile'] = 'หมายเลขโทรศัพท์';
  en['checkout.placeholder.mobile'] = 'Phone number';
  th['checkout.placeholder.email'] = 'you@example.com';
  en['checkout.placeholder.email'] = 'you@example.com';
    // removed: Special Requests placeholder

  // removed: voucher info line no longer shown on Checkout

    // removed: Online payment redirect info

  th['checkout.agree'] = 'ฉันยอมรับและเห็นชอบข้อกำหนดและนโยบายทั้งหมด';
  en['checkout.agree'] = 'I acknowledge and accept the Terms of all Policy.';

  th['checkout.address'] = '55 Koh Yao Yai Rd, Phang Nga 82160, Thailand';
  en['checkout.address'] = '55 Koh Yao Yai Rd, Phang Nga 82160, Thailand';

  th['checkout.contact'] = '☎ +66 8X-XXX-XXXX · ✉ hello@backpackhostel.com';
  en['checkout.contact'] = '☎ +66 8X-XXX-XXXX · ✉ hello@backpackhostel.com';

  th['checkout.nightStay'] = '1 คืน';
  en['checkout.nightStay'] = '1 Night Stay';

  th['checkout.roomLabel'] = 'ห้อง :';
  en['checkout.roomLabel'] = 'Room :';

  th['checkout.rateplan'] = 'Rateplan Name : Twin/Double Shared (Fan) - Room Only';
  en['checkout.rateplan'] = 'Rateplan Name : Twin/Double Shared (Fan) - Room Only';

  th['checkout.nonRefundable'] = 'ไม่คืนเงิน';
  en['checkout.nonRefundable'] = 'Non-Refundable';

  th['checkout.paxDetails'] = 'Pax Details : 2 ผู้ใหญ่ , 0 เด็ก';
  en['checkout.paxDetails'] = 'Pax Details : 2 Adults , 0 Child';

  th['checkout.apply'] = 'ใช้';
  en['checkout.apply'] = 'Apply';
})();

// Payment page translations
(function(){
  const th = window.I18N.th; const en = window.I18N.en;
  th['payment.title'] = 'ชำระเงิน — ออนไลน์';
  en['payment.title'] = 'Payment — Online';
  th['payment.header'] = 'บัตรเครดิต/บัตรเดบิต';
  en['payment.header'] = 'Credit/Debit Card';
  th['payment.lead'] = 'กรอกข้อมูลเพื่อชำระเงินอย่างปลอดภัย';
  en['payment.lead'] = 'Enter your details to pay securely';
  th['payment.method.title'] = 'บัตรเครดิต/บัตรเดบิต';
  en['payment.method.title'] = 'Credit/Debit Card';
  th['payment.method.choose'] = 'เลือกวิธีชำระเงิน';
  en['payment.method.choose'] = 'Choose payment method';
  th['payment.method.card'] = 'Visa / Mastercard / Amex / JCB';
  en['payment.method.card'] = 'Visa / Mastercard / Amex / JCB';
  th['payment.notice.fill'] = 'กรอกข้อมูลเพื่อจองห้องพัก';
  en['payment.notice.fill'] = 'Please fill in to complete your booking';
  th['payment.card.name'] = 'ชื่อบนบัตร';
  en['payment.card.name'] = 'Name on card';
  th['payment.card.name.ph'] = 'ชื่อบนบัตร';
  en['payment.card.name.ph'] = 'Name on card';
  th['payment.card.number'] = 'หมายเลขบัตรเครดิต/เดบิต';
  en['payment.card.number'] = 'Credit/Debit card number';
  th['payment.card.number.ph'] = 'หมายเลขบัตร';
  en['payment.card.number.ph'] = 'Card number';
  th['payment.card.exp'] = 'วันหมดอายุ';
  en['payment.card.exp'] = 'Expiry date';
  th['payment.card.exp.ph'] = 'ดด/ปป';
  en['payment.card.exp.ph'] = 'MM/YY';
  th['payment.card.cvv.ph'] = 'รหัส CVC/CVV';
  en['payment.card.cvv.ph'] = 'CVC/CVV';
  th['payment.secure'] = 'ข้อมูลบัตรทั้งหมดจะถูกเข้ารหัสและรักษาความปลอดภัยอย่างสมบูรณ์';
  en['payment.secure'] = 'All card data is encrypted and handled securely';
  th['payment.cancel'] = 'ยกเลิก';
  en['payment.cancel'] = 'Cancel';
  th['payment.pay'] = 'ชำระเงิน';
  en['payment.pay'] = 'Pay Now';
})();

(function(){
  // default lang persisted in localStorage
  window.currentLang = localStorage.getItem('lang') || 'th';

  window.applyLang = function(lang){
    window.currentLang = lang;
    localStorage.setItem('lang', lang);
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      if(window.I18N[lang] && window.I18N[lang][key]){
        // If element is an OPTION, set its text via .text instead of textContent for compatibility
        if(el.tagName === 'OPTION') el.text = window.I18N[lang][key];
        else el.textContent = window.I18N[lang][key];
      }
    });
    // support placeholders (data-i18n-placeholder) and value attributes (data-i18n-value)
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el=>{
      const key = el.getAttribute('data-i18n-placeholder');
      if(window.I18N[lang] && window.I18N[lang][key]){
        try{ el.placeholder = window.I18N[lang][key]; }catch(e){}
      }
    });
    document.querySelectorAll('[data-i18n-value]').forEach(el=>{
      const key = el.getAttribute('data-i18n-value');
      if(window.I18N[lang] && window.I18N[lang][key]){
        try{ el.value = window.I18N[lang][key]; }catch(e){}
      }
    });
    // toggle buttons
    const th = document.getElementById('thBtn');
    const en = document.getElementById('enBtn');
    if(th) th.classList.toggle('active', lang==='th');
    if(th) th.setAttribute('aria-pressed', String(lang==='th'));
    if(en) en.classList.toggle('active', lang==='en');
    if(en) en.setAttribute('aria-pressed', String(lang==='en'));
    document.documentElement.lang = (lang==='th') ? 'th' : 'en';
    // also adjust Special Requests toggle label state
    try{
      const toggle = document.getElementById('toggleRequests');
      const wrap = document.getElementById('requestsWrap');
      if(toggle && wrap){
        const key = (wrap.style.display === 'none' || wrap.style.display === '') ? 'checkout.requests.toggle.show' : 'checkout.requests.toggle.hide';
        if(window.I18N[lang] && window.I18N[lang][key]) toggle.textContent = window.I18N[lang][key];
      }
    }catch(e){}
    // notify other scripts that language changed
    try{ document.dispatchEvent(new CustomEvent('langChanged',{detail:{lang}})); }catch(e){}
  };

  window.wireLangButtons = function(){
    const th = document.getElementById('thBtn');
    const en = document.getElementById('enBtn');
    if(th) th.addEventListener('click', ()=>{ window.applyLang('th'); });
    if(en) en.addEventListener('click', ()=>{ window.applyLang('en'); });
  };

  // When header injects, apply lang and wire buttons
  document.addEventListener('sharedHeaderLoaded', ()=>{
    try{ window.applyLang(window.currentLang); }catch(e){}
    try{ window.wireLangButtons(); }catch(e){}
  });

  // Also run on DOMContentLoaded in case header already present
  if(document.readyState !== 'loading'){
    try{ window.applyLang(window.currentLang); }catch(e){}
    try{ window.wireLangButtons(); }catch(e){}
  } else {
    document.addEventListener('DOMContentLoaded', ()=>{ try{ window.applyLang(window.currentLang); }catch(e){}; try{ window.wireLangButtons(); }catch(e){}; });
  }
})();
